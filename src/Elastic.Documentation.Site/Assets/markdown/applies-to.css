@layer components {
	.applies {
		cursor: default;

		@apply text-subdued;

		applies-to-popover {
			display: contents;
		}

		.applicable-info {
			@apply border-grey-20 inline-flex cursor-default rounded-full border-[1px] bg-white pt-1.5 pr-3 pb-1.5 pl-3;
		}

		.applicable-info--clickable {
			/* Desktop: tooltip-like behavior, no pointer cursor or hover state */
			@apply cursor-default;

			&:focus {
				outline: none;
			}

			/* Desktop: no focus-visible outline for tooltip behavior */
			@media (hover: hover) and (pointer: fine) {
				&:focus-visible {
					outline: none;
				}
			}

			/* Mobile/touch: show focus outline for accessibility */
			@media (hover: none), (pointer: coarse) {
				@apply cursor-pointer;

				&:focus-visible {
					outline: 2px solid var(--color-blue-elastic);
					outline-offset: 2px;
				}
			}
		}

		/* Desktop: no pinned state styling */
		@media (hover: hover) and (pointer: fine) {
			.applicable-info--pinned {
				@apply border-grey-20 bg-white;
			}
		}

		/* Mobile/touch: show pinned state */
		@media (hover: none), (pointer: coarse) {
			.applicable-info--pinned {
				@apply border-blue-elastic bg-grey-10;
			}
		}

		.applicable-meta {
			@apply inline-flex gap-1.5;
		}

		.applicable-name,
		.applicable-meta {
			@apply text-xs text-nowrap;
		}

		.applicable-separator {
			@apply bg-grey-20 mx-2 self-stretch;
			mix-blend-mode: multiply;
			width: 1px;
		}
	}

	.applies.applies-block {
		@apply border-b-grey-20 flex flex-wrap gap-2 border-b-1 pb-4;
	}

	.applies.applies-inline {
		display: inline-block;
		vertical-align: bottom;

		applies-to-popover {
			display: inline-flex;
			vertical-align: bottom;
		}

		.applicable-separator {
			margin-left: calc(var(--spacing) * 1.5);
			margin-right: calc(var(--spacing) * 1.5);
		}
		.applicable-info {
			@apply rounded-sm pt-1 pr-1.5 pb-1 pl-1.5;
		}
		.applicable-name,
		.applicable-meta {
			font-size: 0.65em;
		}
	}

	.applicable-ellipsis {
		@apply bg-grey-20 inline-flex h-full items-center gap-0.5 rounded-md px-0.5 py-1;
	}

	.applicable-ellipsis__dot {
		@apply bg-grey-50 size-1 rounded-full;
	}
}

.euiPopover__panel {
	/* Shadow and border for the popover */
	box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1) !important;
	border: 1px solid var(--color-grey-20) !important;
	border-radius: 6px !important;
}
