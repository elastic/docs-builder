{"mappings":"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","sources":["<anon>","node_modules/mermaid/dist/chunks/mermaid.esm.min/diagram-V25JEYTC.mjs","node_modules/mermaid/dist/chunks/mermaid.esm.min/chunk-4KE642ED.mjs"],"sourcesContent":["(function () {\n\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global =\n        typeof globalThis !== 'undefined'\n          ? globalThis\n          : typeof self !== 'undefined'\n          ? self\n          : typeof window !== 'undefined'\n          ? window\n          : typeof global !== 'undefined'\n          ? global\n          : {};\n  var parcelRequire = $parcel$global[\"parcelRequire6955\"];\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"f4kow\", function(module, exports) {\n\n$parcel$export(module.exports, \"diagram\", function () { return $53adc5630740cfce$export$6118d022d940d562; });\n\nvar $72x9i = parcelRequire(\"72x9i\");\n\nvar $fBY3b = parcelRequire(\"fBY3b\");\nparcelRequire(\"eqau5\");\nparcelRequire(\"cRsqf\");\n\nvar $g3QNz = parcelRequire(\"g3QNz\");\n\nvar $fxedn = parcelRequire(\"fxedn\");\nparcelRequire(\"3tpah\");\n\nvar $kNZMB = parcelRequire(\"kNZMB\");\nparcelRequire(\"6XWbY\");\nparcelRequire(\"jaQMJ\");\nparcelRequire(\"ggtbI\");\nparcelRequire(\"aWvOd\");\nparcelRequire(\"2OCaF\");\nparcelRequire(\"2Bif5\");\n\nvar $6t5tb = parcelRequire(\"6t5tb\");\nvar $53adc5630740cfce$var$T = {\n    packet: []\n}, $53adc5630740cfce$var$D = structuredClone($53adc5630740cfce$var$T), $53adc5630740cfce$var$q = (0, $kNZMB.s).packet, $53adc5630740cfce$var$V = (0, $6t5tb.a)(()=>{\n    let t = (0, $fxedn.l)({\n        ...$53adc5630740cfce$var$q,\n        ...(0, $kNZMB.A)().packet\n    });\n    return t.showBits && (t.paddingY += 10), t;\n}, \"getConfig\"), $53adc5630740cfce$var$L = (0, $6t5tb.a)(()=>$53adc5630740cfce$var$D.packet, \"getPacket\"), $53adc5630740cfce$var$N = (0, $6t5tb.a)((t)=>{\n    t.length > 0 && $53adc5630740cfce$var$D.packet.push(t);\n}, \"pushWord\"), $53adc5630740cfce$var$I = (0, $6t5tb.a)(()=>{\n    (0, $kNZMB.P)(), $53adc5630740cfce$var$D = structuredClone($53adc5630740cfce$var$T);\n}, \"clear\"), $53adc5630740cfce$var$d = {\n    pushWord: $53adc5630740cfce$var$N,\n    getPacket: $53adc5630740cfce$var$L,\n    getConfig: $53adc5630740cfce$var$V,\n    clear: $53adc5630740cfce$var$I,\n    setAccTitle: (0, $kNZMB.Q),\n    getAccTitle: (0, $kNZMB.R),\n    setDiagramTitle: (0, $kNZMB.U),\n    getDiagramTitle: (0, $kNZMB.V),\n    getAccDescription: (0, $kNZMB.T),\n    setAccDescription: (0, $kNZMB.S)\n};\nvar $53adc5630740cfce$var$M = 1e4, $53adc5630740cfce$var$Y = (0, $6t5tb.a)((t)=>{\n    (0, $72x9i.a)(t, $53adc5630740cfce$var$d);\n    let e = -1, i = [], s = 1, { bitsPerRow: c } = $53adc5630740cfce$var$d.getConfig();\n    for (let { start: r, end: o, label: m } of t.blocks){\n        if (o && o < r) throw new Error(`Packet block ${r} - ${o} is invalid. End must be greater than start.`);\n        if (r !== e + 1) throw new Error(`Packet block ${r} - ${o ?? r} is not contiguous. It should start from ${e + 1}.`);\n        for(e = o ?? r, (0, $kNZMB.b).debug(`Packet block ${r} - ${e} with label ${m}`); i.length <= c + 1 && $53adc5630740cfce$var$d.getPacket().length < $53adc5630740cfce$var$M;){\n            let [y, l] = $53adc5630740cfce$var$U({\n                start: r,\n                end: o,\n                label: m\n            }, s, c);\n            if (i.push(y), y.end + 1 === s * c && ($53adc5630740cfce$var$d.pushWord(i), i = [], s++), !l) break;\n            ({ start: r, end: o, label: m } = l);\n        }\n    }\n    $53adc5630740cfce$var$d.pushWord(i);\n}, \"populate\"), $53adc5630740cfce$var$U = (0, $6t5tb.a)((t, e, i)=>{\n    if (t.end === void 0 && (t.end = t.start), t.start > t.end) throw new Error(`Block start ${t.start} is greater than block end ${t.end}.`);\n    return t.end + 1 <= e * i ? [\n        t,\n        void 0\n    ] : [\n        {\n            start: t.start,\n            end: e * i - 1,\n            label: t.label\n        },\n        {\n            start: e * i,\n            end: t.end,\n            label: t.label\n        }\n    ];\n}, \"getNextFittingBlock\"), $53adc5630740cfce$var$A = {\n    parse: (0, $6t5tb.a)(async (t)=>{\n        let e = await (0, $fBY3b.a)(\"packet\", t);\n        (0, $kNZMB.b).debug(e), $53adc5630740cfce$var$Y(e);\n    }, \"parse\")\n};\nvar $53adc5630740cfce$var$H = (0, $6t5tb.a)((t, e, i, s)=>{\n    let c = s.db, r = c.getConfig(), { rowHeight: o, paddingY: m, bitWidth: y, bitsPerRow: l } = r, P = c.getPacket(), n = c.getDiagramTitle(), f = o + m, p = f * (P.length + 1) - (n ? 0 : o), k = y * l + 2, g = (0, $g3QNz.a)(e);\n    g.attr(\"viewbox\", `0 0 ${k} ${p}`), (0, $kNZMB.M)(g, p, k, r.useMaxWidth);\n    for (let [O, _] of P.entries())$53adc5630740cfce$var$K(g, _, O, r);\n    g.append(\"text\").text(n).attr(\"x\", k / 2).attr(\"y\", p - f / 2).attr(\"dominant-baseline\", \"middle\").attr(\"text-anchor\", \"middle\").attr(\"class\", \"packetTitle\");\n}, \"draw\"), $53adc5630740cfce$var$K = (0, $6t5tb.a)((t, e, i, { rowHeight: s, paddingX: c, paddingY: r, bitWidth: o, bitsPerRow: m, showBits: y })=>{\n    let l = t.append(\"g\"), P = i * (s + r) + r;\n    for (let n of e){\n        let f = n.start % m * o + 1, p = (n.end - n.start + 1) * o - c;\n        if (l.append(\"rect\").attr(\"x\", f).attr(\"y\", P).attr(\"width\", p).attr(\"height\", s).attr(\"class\", \"packetBlock\"), l.append(\"text\").attr(\"x\", f + p / 2).attr(\"y\", P + s / 2).attr(\"class\", \"packetLabel\").attr(\"dominant-baseline\", \"middle\").attr(\"text-anchor\", \"middle\").text(n.label), !y) continue;\n        let k = n.end === n.start, g = P - 2;\n        l.append(\"text\").attr(\"x\", f + (k ? p / 2 : 0)).attr(\"y\", g).attr(\"class\", \"packetByte start\").attr(\"dominant-baseline\", \"auto\").attr(\"text-anchor\", k ? \"middle\" : \"start\").text(n.start), k || l.append(\"text\").attr(\"x\", f + p).attr(\"y\", g).attr(\"class\", \"packetByte end\").attr(\"dominant-baseline\", \"auto\").attr(\"text-anchor\", \"end\").text(n.end);\n    }\n}, \"drawWord\"), $53adc5630740cfce$var$E = {\n    draw: $53adc5630740cfce$var$H\n};\nvar $53adc5630740cfce$var$X = {\n    byteFontSize: \"10px\",\n    startByteColor: \"black\",\n    endByteColor: \"black\",\n    labelColor: \"black\",\n    labelFontSize: \"12px\",\n    titleColor: \"black\",\n    titleFontSize: \"14px\",\n    blockStrokeColor: \"black\",\n    blockStrokeWidth: \"1\",\n    blockFillColor: \"#efefef\"\n}, $53adc5630740cfce$var$R = (0, $6t5tb.a)(({ packet: t } = {})=>{\n    let e = (0, $fxedn.l)($53adc5630740cfce$var$X, t);\n    return `\n\t.packetByte {\n\t\tfont-size: ${e.byteFontSize};\n\t}\n\t.packetByte.start {\n\t\tfill: ${e.startByteColor};\n\t}\n\t.packetByte.end {\n\t\tfill: ${e.endByteColor};\n\t}\n\t.packetLabel {\n\t\tfill: ${e.labelColor};\n\t\tfont-size: ${e.labelFontSize};\n\t}\n\t.packetTitle {\n\t\tfill: ${e.titleColor};\n\t\tfont-size: ${e.titleFontSize};\n\t}\n\t.packetBlock {\n\t\tstroke: ${e.blockStrokeColor};\n\t\tstroke-width: ${e.blockStrokeWidth};\n\t\tfill: ${e.blockFillColor};\n\t}\n\t`;\n}, \"styles\");\nvar $53adc5630740cfce$export$6118d022d940d562 = {\n    parser: $53adc5630740cfce$var$A,\n    db: $53adc5630740cfce$var$d,\n    renderer: $53adc5630740cfce$var$E,\n    styles: $53adc5630740cfce$var$R\n};\n\n});\nparcelRegister(\"72x9i\", function(module, exports) {\n\n$parcel$export(module.exports, \"a\", function () { return $08fcb9f2665265aa$export$407448d2b89b1813; });\n\nvar $6t5tb = parcelRequire(\"6t5tb\");\nfunction $08fcb9f2665265aa$export$407448d2b89b1813(i, e) {\n    i.accDescr && e.setAccDescription?.(i.accDescr), i.accTitle && e.setAccTitle?.(i.accTitle), i.title && e.setDiagramTitle?.(i.title);\n}\n(0, $6t5tb.a)($08fcb9f2665265aa$export$407448d2b89b1813, \"populateCommonDb\");\n\n});\n\n\n})();\n//# sourceMappingURL=diagram-V25JEYTC.a0490bb1.js.map\n","import{a as z}from\"./chunk-4KE642ED.mjs\";import{a as v}from\"./chunk-YFFLADYN.mjs\";import\"./chunk-VRGDDFRA.mjs\";import\"./chunk-E4AWDUZE.mjs\";import{a as G}from\"./chunk-WVHPJQMP.mjs\";import{l as u}from\"./chunk-AC3VT7B7.mjs\";import\"./chunk-TI4EEUUG.mjs\";import{A as x,M as C,P as B,Q as S,R as $,S as w,T as W,U as F,V as j,b,s as h}from\"./chunk-NQURTBEV.mjs\";import\"./chunk-C7NU23FD.mjs\";import\"./chunk-DZFIHE2J.mjs\";import\"./chunk-D3PZO57J.mjs\";import\"./chunk-BKDDFIKN.mjs\";import\"./chunk-YPUTD6PB.mjs\";import\"./chunk-6BY5RJGC.mjs\";import{a}from\"./chunk-GTKDMUJJ.mjs\";var T={packet:[]},D=structuredClone(T),q=h.packet,V=a(()=>{let t=u({...q,...x().packet});return t.showBits&&(t.paddingY+=10),t},\"getConfig\"),L=a(()=>D.packet,\"getPacket\"),N=a(t=>{t.length>0&&D.packet.push(t)},\"pushWord\"),I=a(()=>{B(),D=structuredClone(T)},\"clear\"),d={pushWord:N,getPacket:L,getConfig:V,clear:I,setAccTitle:S,getAccTitle:$,setDiagramTitle:F,getDiagramTitle:j,getAccDescription:W,setAccDescription:w};var M=1e4,Y=a(t=>{z(t,d);let e=-1,i=[],s=1,{bitsPerRow:c}=d.getConfig();for(let{start:r,end:o,label:m}of t.blocks){if(o&&o<r)throw new Error(`Packet block ${r} - ${o} is invalid. End must be greater than start.`);if(r!==e+1)throw new Error(`Packet block ${r} - ${o??r} is not contiguous. It should start from ${e+1}.`);for(e=o??r,b.debug(`Packet block ${r} - ${e} with label ${m}`);i.length<=c+1&&d.getPacket().length<M;){let[y,l]=U({start:r,end:o,label:m},s,c);if(i.push(y),y.end+1===s*c&&(d.pushWord(i),i=[],s++),!l)break;({start:r,end:o,label:m}=l)}}d.pushWord(i)},\"populate\"),U=a((t,e,i)=>{if(t.end===void 0&&(t.end=t.start),t.start>t.end)throw new Error(`Block start ${t.start} is greater than block end ${t.end}.`);return t.end+1<=e*i?[t,void 0]:[{start:t.start,end:e*i-1,label:t.label},{start:e*i,end:t.end,label:t.label}]},\"getNextFittingBlock\"),A={parse:a(async t=>{let e=await v(\"packet\",t);b.debug(e),Y(e)},\"parse\")};var H=a((t,e,i,s)=>{let c=s.db,r=c.getConfig(),{rowHeight:o,paddingY:m,bitWidth:y,bitsPerRow:l}=r,P=c.getPacket(),n=c.getDiagramTitle(),f=o+m,p=f*(P.length+1)-(n?0:o),k=y*l+2,g=G(e);g.attr(\"viewbox\",`0 0 ${k} ${p}`),C(g,p,k,r.useMaxWidth);for(let[O,_]of P.entries())K(g,_,O,r);g.append(\"text\").text(n).attr(\"x\",k/2).attr(\"y\",p-f/2).attr(\"dominant-baseline\",\"middle\").attr(\"text-anchor\",\"middle\").attr(\"class\",\"packetTitle\")},\"draw\"),K=a((t,e,i,{rowHeight:s,paddingX:c,paddingY:r,bitWidth:o,bitsPerRow:m,showBits:y})=>{let l=t.append(\"g\"),P=i*(s+r)+r;for(let n of e){let f=n.start%m*o+1,p=(n.end-n.start+1)*o-c;if(l.append(\"rect\").attr(\"x\",f).attr(\"y\",P).attr(\"width\",p).attr(\"height\",s).attr(\"class\",\"packetBlock\"),l.append(\"text\").attr(\"x\",f+p/2).attr(\"y\",P+s/2).attr(\"class\",\"packetLabel\").attr(\"dominant-baseline\",\"middle\").attr(\"text-anchor\",\"middle\").text(n.label),!y)continue;let k=n.end===n.start,g=P-2;l.append(\"text\").attr(\"x\",f+(k?p/2:0)).attr(\"y\",g).attr(\"class\",\"packetByte start\").attr(\"dominant-baseline\",\"auto\").attr(\"text-anchor\",k?\"middle\":\"start\").text(n.start),k||l.append(\"text\").attr(\"x\",f+p).attr(\"y\",g).attr(\"class\",\"packetByte end\").attr(\"dominant-baseline\",\"auto\").attr(\"text-anchor\",\"end\").text(n.end)}},\"drawWord\"),E={draw:H};var X={byteFontSize:\"10px\",startByteColor:\"black\",endByteColor:\"black\",labelColor:\"black\",labelFontSize:\"12px\",titleColor:\"black\",titleFontSize:\"14px\",blockStrokeColor:\"black\",blockStrokeWidth:\"1\",blockFillColor:\"#efefef\"},R=a(({packet:t}={})=>{let e=u(X,t);return`\n\t.packetByte {\n\t\tfont-size: ${e.byteFontSize};\n\t}\n\t.packetByte.start {\n\t\tfill: ${e.startByteColor};\n\t}\n\t.packetByte.end {\n\t\tfill: ${e.endByteColor};\n\t}\n\t.packetLabel {\n\t\tfill: ${e.labelColor};\n\t\tfont-size: ${e.labelFontSize};\n\t}\n\t.packetTitle {\n\t\tfill: ${e.titleColor};\n\t\tfont-size: ${e.titleFontSize};\n\t}\n\t.packetBlock {\n\t\tstroke: ${e.blockStrokeColor};\n\t\tstroke-width: ${e.blockStrokeWidth};\n\t\tfill: ${e.blockFillColor};\n\t}\n\t`},\"styles\");var Dt={parser:A,db:d,renderer:E,styles:R};export{Dt as diagram};\n","import{a as r}from\"./chunk-GTKDMUJJ.mjs\";function c(i,e){i.accDescr&&e.setAccDescription?.(i.accDescr),i.accTitle&&e.setAccTitle?.(i.accTitle),i.title&&e.setDiagramTitle?.(i.title)}r(c,\"populateCommonDb\");export{c as a};\n"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","parcelRequire","$parcel$global","globalThis","self","window","global","parcelRegister","register","module","exports","$53adc5630740cfce$export$6118d022d940d562","$72x9i","$fBY3b","$g3QNz","$fxedn","$kNZMB","$6t5tb","$53adc5630740cfce$var$T","packet","$53adc5630740cfce$var$D","structuredClone","$53adc5630740cfce$var$q","$53adc5630740cfce$var$V","a","t","l","A","showBits","paddingY","$53adc5630740cfce$var$L","$53adc5630740cfce$var$d","pushWord","length","push","getPacket","getConfig","clear","P","setAccTitle","Q","getAccTitle","R","setDiagramTitle","U","getDiagramTitle","V","getAccDescription","T","setAccDescription","S","$53adc5630740cfce$var$Y","i","bitsPerRow","c","start","r","end","o","label","m","blocks","Error","b","debug","y","$53adc5630740cfce$var$U","$53adc5630740cfce$var$A","parse","$53adc5630740cfce$var$H","db","rowHeight","bitWidth","f","p","k","g","O","_","attr","M","useMaxWidth","entries","$53adc5630740cfce$var$K","append","text","paddingX","$53adc5630740cfce$var$X","byteFontSize","startByteColor","endByteColor","labelColor","labelFontSize","titleColor","titleFontSize","blockStrokeColor","blockStrokeWidth","blockFillColor","parser","renderer","draw","styles","$08fcb9f2665265aa$export$407448d2b89b1813","accDescr","accTitle","title"],"version":3,"file":"diagram-V25JEYTC.a0490bb1.js.map"}