!function(){function t(t,e,i,r){Object.defineProperty(t,e,{get:i,set:r,enumerable:!0,configurable:!0})}var e=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire6955,i=e.register;i("jYBoe",function(i,r){t(i.exports,"diagram",function(){return v});var a=e("4cYpN"),n=e("aWVZR"),s=e("hFIWW"),d=e("fxedn");e("3tpah");var o=e("kNZMB");e("aWvOd"),e("2OCaF"),e("2Bif5");var h=e("6t5tb"),l=0,p=(0,h.a)(function(t,e,i,r,a){let n,s,p,g,u=(0,h.a)(function(t){switch(t){case a.db.relationType.AGGREGATION:return"aggregation";case a.db.relationType.EXTENSION:return"extension";case a.db.relationType.COMPOSITION:return"composition";case a.db.relationType.DEPENDENCY:return"dependency";case a.db.relationType.LOLLIPOP:return"lollipop"}},"getRelationType");e.points=e.points.filter(t=>!Number.isNaN(t.y));let c=e.points,f=(0,o.Ca)().x(function(t){return t.x}).y(function(t){return t.y}).curve(o.Ga),_=t.append("path").attr("d",f(c)).attr("id","edge"+l).attr("class","relation"),b="";r.arrowMarkerAbsolute&&(b=(b=(b=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),1==i.relation.lineType&&_.attr("class","relation dashed-line"),10==i.relation.lineType&&_.attr("class","relation dotted-line"),"none"!==i.relation.type1&&_.attr("marker-start","url("+b+"#"+u(i.relation.type1)+"Start)"),"none"!==i.relation.type2&&_.attr("marker-end","url("+b+"#"+u(i.relation.type2)+"End)");let x,y,m=e.points.length,v=d.m.calcLabelPosition(e.points);if(x=v.x,y=v.y,m%2!=0&&m>1){let t=d.m.calcCardinalityPosition("none"!==i.relation.type1,e.points,e.points[0]),r=d.m.calcCardinalityPosition("none"!==i.relation.type2,e.points,e.points[m-1]);o.b.debug("cardinality_1_point "+JSON.stringify(t)),o.b.debug("cardinality_2_point "+JSON.stringify(r)),n=t.x,s=t.y,p=r.x,g=r.y}if(void 0!==i.title){let e=t.append("g").attr("class","classLabel"),a=e.append("text").attr("class","label").attr("x",x).attr("y",y).attr("fill","red").attr("text-anchor","middle").text(i.title);window.label=a;let n=a.node().getBBox();e.insert("rect",":first-child").attr("class","box").attr("x",n.x-r.padding/2).attr("y",n.y-r.padding/2).attr("width",n.width+r.padding).attr("height",n.height+r.padding)}o.b.info("Rendering relation "+JSON.stringify(i)),void 0!==i.relationTitle1&&"none"!==i.relationTitle1&&t.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",n).attr("y",s).attr("fill","black").attr("font-size","6").text(i.relationTitle1),void 0!==i.relationTitle2&&"none"!==i.relationTitle2&&t.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",p).attr("y",g).attr("fill","black").attr("font-size","6").text(i.relationTitle2),l++},"drawEdge"),g=(0,h.a)(function(t,e,i,r){o.b.debug("Rendering class ",e,i);let a=e.id,n={id:a,label:e.id,width:0,height:0},s=t.append("g").attr("id",r.db.lookUpDomId(a)).attr("class","classGroup"),d;d=e.link?s.append("svg:a").attr("xlink:href",e.link).attr("target",e.linkTarget).append("text").attr("y",i.textHeight+i.padding).attr("x",0):s.append("text").attr("y",i.textHeight+i.padding).attr("x",0);let h=!0;e.annotations.forEach(function(t){let e=d.append("tspan").text("«"+t+"»");h||e.attr("dy",i.textHeight),h=!1});let l=u(e),p=d.append("tspan").text(l).attr("class","title");h||p.attr("dy",i.textHeight);let g=d.node().getBBox().height,c,_,b;if(e.members.length>0){c=s.append("line").attr("x1",0).attr("y1",i.padding+g+i.dividerMargin/2).attr("y2",i.padding+g+i.dividerMargin/2);let t=s.append("text").attr("x",i.padding).attr("y",g+i.dividerMargin+i.textHeight).attr("fill","white").attr("class","classText");h=!0,e.members.forEach(function(e){f(t,e,h,i),h=!1}),_=t.node().getBBox()}if(e.methods.length>0){b=s.append("line").attr("x1",0).attr("y1",i.padding+g+i.dividerMargin+_.height).attr("y2",i.padding+g+i.dividerMargin+_.height);let t=s.append("text").attr("x",i.padding).attr("y",g+2*i.dividerMargin+_.height+i.textHeight).attr("fill","white").attr("class","classText");h=!0,e.methods.forEach(function(e){f(t,e,h,i),h=!1})}let x=s.node().getBBox();var y=" ";e.cssClasses.length>0&&(y+=e.cssClasses.join(" "));let m=s.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",x.width+2*i.padding).attr("height",x.height+i.padding+.5*i.dividerMargin).attr("class",y).node().getBBox().width;return d.node().childNodes.forEach(function(t){t.setAttribute("x",(m-t.getBBox().width)/2)}),e.tooltip&&d.insert("title").text(e.tooltip),c&&c.attr("x2",m),b&&b.attr("x2",m),n.width=m,n.height=x.height+i.padding+.5*i.dividerMargin,n},"drawClass"),u=(0,h.a)(function(t){let e=t.id;return t.type&&(e+="<"+(0,o.H)(t.type)+">"),e},"getClassTitleString"),c=(0,h.a)(function(t,e,i,r){o.b.debug("Rendering note ",e,i);let a=e.id,n={id:a,text:e.text,width:0,height:0},s=t.append("g").attr("id",a).attr("class","classGroup"),d=s.append("text").attr("y",i.textHeight+i.padding).attr("x",0),h=JSON.parse(`"${e.text}"`).split(`
`);h.forEach(function(t){o.b.debug(`Adding line: ${t}`),d.append("tspan").text(t).attr("class","title").attr("dy",i.textHeight)});let l=s.node().getBBox(),p=s.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",l.width+2*i.padding).attr("height",l.height+h.length*i.textHeight+i.padding+.5*i.dividerMargin).node().getBBox().width;return d.node().childNodes.forEach(function(t){t.setAttribute("x",(p-t.getBBox().width)/2)}),n.width=p,n.height=l.height+h.length*i.textHeight+i.padding+.5*i.dividerMargin,n},"drawNote"),f=(0,h.a)(function(t,e,i,r){let{displayText:a,cssStyle:n}=e.getDisplayDetails(),s=t.append("tspan").attr("x",r.padding).text(a);""!==n&&s.attr("style",e.cssStyle),i||s.attr("dy",r.textHeight)},"addTspan"),_={drawClass:g,drawEdge:p,drawNote:c},b={},x=(0,h.a)(function(t){let e=Object.entries(b).find(e=>e[1].label===t);if(e)return e[0]},"getGraphId"),y=(0,h.a)(function(t){t.append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),t.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertMarkers"),m=(0,h.a)(function(t,e,i,r){let a=(0,o.X)().class;b={},o.b.info("Rendering diagram "+t);let d=(0,o.X)().securityLevel,h;"sandbox"===d&&(h=(0,o.fa)("#i"+e));let l="sandbox"===d?(0,o.fa)(h.nodes()[0].contentDocument.body):(0,o.fa)("body"),p=l.select(`[id='${e}']`);y(p);let g=new(0,s.a)({multigraph:!0});g.setGraph({isMultiGraph:!0}),g.setDefaultEdgeLabel(function(){return{}});let u=r.db.getClasses();for(let t of[...u.keys()]){let e=u.get(t),i=_.drawClass(p,e,a,r);b[i.id]=i,g.setNode(i.id,i),o.b.info("Org height: "+i.height)}r.db.getRelations().forEach(function(t){o.b.info("tjoho"+x(t.id1)+x(t.id2)+JSON.stringify(t)),g.setEdge(x(t.id1),x(t.id2),{relation:t},t.title||"DEFAULT")}),r.db.getNotes().forEach(function(t){o.b.debug(`Adding note: ${JSON.stringify(t)}`);let e=_.drawNote(p,t,a,r);b[e.id]=e,g.setNode(e.id,e),t.class&&u.has(t.class)&&g.setEdge(t.id,x(t.class),{relation:{id1:t.id,id2:t.class,relation:{type1:"none",type2:"none",lineType:10}}},"DEFAULT")}),(0,n.a)(g),g.nodes().forEach(function(t){void 0!==t&&void 0!==g.node(t)&&(o.b.debug("Node "+t+": "+JSON.stringify(g.node(t))),l.select("#"+(r.db.lookUpDomId(t)||t)).attr("transform","translate("+(g.node(t).x-g.node(t).width/2)+","+(g.node(t).y-g.node(t).height/2)+" )"))}),g.edges().forEach(function(t){void 0!==t&&void 0!==g.edge(t)&&(o.b.debug("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(g.edge(t))),_.drawEdge(p,g.edge(t),g.edge(t).relation,a,r))});let c=p.node().getBBox(),f=c.width+40,m=c.height+40;(0,o.M)(p,m,f,a.useMaxWidth);let v=`${c.x-20} ${c.y-20} ${f} ${m}`;o.b.debug(`viewBox ${v}`),p.attr("viewBox",v)},"draw"),v={parser:a.a,db:a.b,renderer:{draw:m},styles:a.c,init:(0,h.a)(t=>{t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,a.b.clear()},"init")}}),i("hFIWW",function(i,r){t(i.exports,"a",function(){return o});var a=e("aWvOd"),n=e("2OCaF"),s=e("2Bif5"),d=e("6t5tb"),o=class{static #t=(0,d.a)(this,"Graph");constructor(t={}){this._isDirected=!(0,a.x)(t,"directed")||t.directed,this._isMultigraph=!!(0,a.x)(t,"multigraph")&&t.multigraph,this._isCompound=!!(0,a.x)(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=(0,s.O)(void 0),this._defaultEdgeLabelFn=(0,s.O)(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(t){return this._label=t,this}graph(){return this._label}setDefaultNodeLabel(t){return(0,s.e)(t)||(t=(0,s.O)(t)),this._defaultNodeLabelFn=t,this}nodeCount(){return this._nodeCount}nodes(){return(0,a.b)(this._nodes)}sources(){var t=this;return(0,a.p)(this.nodes(),function(e){return(0,n.d)(t._in[e])})}sinks(){var t=this;return(0,a.p)(this.nodes(),function(e){return(0,n.d)(t._out[e])})}setNodes(t,e){var i=arguments,r=this;return(0,a.n)(t,function(t){i.length>1?r.setNode(t,e):r.setNode(t)}),this}setNode(t,e){return(0,a.x)(this._nodes,t)?arguments.length>1&&(this._nodes[t]=e):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]="\0",this._children[t]={},this._children["\0"][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount),this}node(t){return this._nodes[t]}hasNode(t){return(0,a.x)(this._nodes,t)}removeNode(t){var e=this;if((0,a.x)(this._nodes,t)){var i=(0,d.a)(function(t){e.removeEdge(e._edgeObjs[t])},"removeEdge");delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],(0,a.n)(this.children(t),function(t){e.setParent(t)}),delete this._children[t]),(0,a.n)((0,a.b)(this._in[t]),i),delete this._in[t],delete this._preds[t],(0,a.n)((0,a.b)(this._out[t]),i),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this}setParent(t,e){if(!this._isCompound)throw Error("Cannot set parent in a non-compound graph");if((0,a.D)(e))e="\0";else{e+="";for(var i=e;!(0,a.D)(i);i=this.parent(i))if(i===t)throw Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this}_removeFromParentsChildList(t){delete this._children[this._parent[t]][t]}parent(t){if(this._isCompound){var e=this._parent[t];if("\0"!==e)return e}}children(t){if((0,a.D)(t)&&(t="\0"),this._isCompound){var e=this._children[t];if(e)return(0,a.b)(e)}else{if("\0"===t)return this.nodes();if(this.hasNode(t))return[]}}predecessors(t){var e=this._preds[t];if(e)return(0,a.b)(e)}successors(t){var e=this._sucs[t];if(e)return(0,a.b)(e)}neighbors(t){var e=this.predecessors(t);if(e)return(0,a.Q)(e,this.successors(t))}isLeaf(t){var e;return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length}filterNodes(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var i=this;(0,a.n)(this._nodes,function(i,r){t(r)&&e.setNode(r,i)}),(0,a.n)(this._edgeObjs,function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,i.edge(t))});var r={};function n(t){var a=i.parent(t);return void 0===a||e.hasNode(a)?(r[t]=a,a):a in r?r[a]:n(a)}return(0,d.a)(n,"findParent"),this._isCompound&&(0,a.n)(e.nodes(),function(t){e.setParent(t,n(t))}),e}setDefaultEdgeLabel(t){return(0,s.e)(t)||(t=(0,s.O)(t)),this._defaultEdgeLabelFn=t,this}edgeCount(){return this._edgeCount}edges(){return(0,a.z)(this._edgeObjs)}setPath(t,e){var i=this,r=arguments;return(0,a.L)(t,function(t,a){return r.length>1?i.setEdge(t,a,e):i.setEdge(t,a),a}),this}setEdge(){var t,e,i,r,n=!1,s=arguments[0];"object"==typeof s&&null!==s&&"v"in s?(t=s.v,e=s.w,i=s.name,2==arguments.length&&(r=arguments[1],n=!0)):(t=s,e=arguments[1],i=arguments[3],arguments.length>2&&(r=arguments[2],n=!0)),t=""+t,e=""+e,(0,a.D)(i)||(i=""+i);var d=p(this._isDirected,t,e,i);if((0,a.x)(this._edgeLabels,d))return n&&(this._edgeLabels[d]=r),this;if(!(0,a.D)(i)&&!this._isMultigraph)throw Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[d]=n?r:this._defaultEdgeLabelFn(t,e,i);var o=g(this._isDirected,t,e,i);return t=o.v,e=o.w,Object.freeze(o),this._edgeObjs[d]=o,h(this._preds[e],t),h(this._sucs[t],e),this._in[e][d]=o,this._out[t][d]=o,this._edgeCount++,this}edge(t,e,i){var r=1==arguments.length?u(this._isDirected,arguments[0]):p(this._isDirected,t,e,i);return this._edgeLabels[r]}hasEdge(t,e,i){var r=1==arguments.length?u(this._isDirected,arguments[0]):p(this._isDirected,t,e,i);return(0,a.x)(this._edgeLabels,r)}removeEdge(t,e,i){var r=1==arguments.length?u(this._isDirected,arguments[0]):p(this._isDirected,t,e,i),a=this._edgeObjs[r];return a&&(t=a.v,e=a.w,delete this._edgeLabels[r],delete this._edgeObjs[r],l(this._preds[e],t),l(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this}inEdges(t,e){var i=this._in[t];if(i){var r=(0,a.z)(i);return e?(0,a.p)(r,function(t){return t.v===e}):r}}outEdges(t,e){var i=this._out[t];if(i){var r=(0,a.z)(i);return e?(0,a.p)(r,function(t){return t.w===e}):r}}nodeEdges(t,e){var i=this.inEdges(t,e);if(i)return i.concat(this.outEdges(t,e))}};function h(t,e){t[e]?t[e]++:t[e]=1}function l(t,e){--t[e]||delete t[e]}function p(t,e,i,r){var n=""+e,s=""+i;if(!t&&n>s){var d=n;n=s,s=d}return n+"\x01"+s+"\x01"+((0,a.D)(r)?"\0":r)}function g(t,e,i,r){var a=""+e,n=""+i;if(!t&&a>n){var s=a;a=n,n=s}var d={v:a,w:n};return r&&(d.name=r),d}function u(t,e){return p(t,e.v,e.w,e.name)}o.prototype._nodeCount=0,o.prototype._edgeCount=0,(0,d.a)(h,"incrementOrInitEntry"),(0,d.a)(l,"decrementOrRemoveEntry"),(0,d.a)(p,"edgeArgsToId"),(0,d.a)(g,"edgeArgsToObj"),(0,d.a)(u,"edgeObjToId")})}();
//# sourceMappingURL=classDiagram-EPVPYR3L.1a60c5c6.js.map
