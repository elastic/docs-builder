# Changelog Configuration
# This file configures the valid values for changelog fields using the pivot structure.
# Place this file as `changelog.yml` in the `docs/` directory

# Pivot configuration for types, subtypes, and areas with label mappings.
# By default we render entries grouped by type > subtype > area.
# NOTE: subtype and area are optional and either may be omitted.
# Labels are specified in a "label -> value" format
pivot:
  # Type definitions with optional labels
  # Keys are type names, values can be:
  #   - simple string: comma-separated label list (e.g., ">bug, >fix")
  #   - empty/null: no labels for this type
  #   - object: { labels: "...", subtypes: {...} } for complex cases
  types:
    # Simple string form: labels as comma-separated string
    breaking-change: ">breaking, >bc"
    bug-fix: ">bug"
    # Empty block: no labels (YAML null)
    feature:
    enhancement:
    docs:
    known-issue:
    other:
    regression:
    security:
    # Complex object form with type-specific subtypes
    deprecation:
      labels: ">deprecation"
      subtypes:
        api: ">api-deprecation"
        behavioral: ">behavioral-deprecation"

  # Default subtype definitions (used when type doesn't define its own subtypes)
  # Keys are subtype names, values are label strings (or null for no labels)
  subtypes:
    api:
    behavioral:
    configuration:
    dependency:
    subscription:
    plugin:
    security:
    other:

  # Area definitions with labels
  # Keys are area display names, values are label strings
  # Multiple labels can be comma-separated
  areas:
    # Example mappings - customize based on your label naming conventions
    # Autoscaling: ":Distributed Coordination/Autoscaling"
    # Search: ":Search/Search"
    # Security: ":Security/Security"
    # Watcher: ":Data Management/Watcher"

# Available lifecycle values
available_lifecycles:
  - preview
  - beta
  - ga

# Available products (optional - if not specified, all products from products.yml are allowed)
available_products:
  # - elasticsearch
  # - kibana
  # - apm
  # - beats
  # - elastic-agent
  # - fleet
  # - cloud-hosted
  # - cloud-serverless
  # - cloud-enterprise
  # Add more products as needed

# Product-specific label blockers (optional)
# Maps product IDs to lists of pull request labels that prevent changelog creation for that product
# If you run the changelog add command with the --prs option and a PR has any of these labels, the changelog is not created
# Product IDs can be comma-separated to share the same list of labels across multiple products
add_blockers:
  # Example: Skip changelog creation for elasticsearch product when PR has these labels
  # elasticsearch:
  #   - ">non-issue"
  #   - ">test"
  #   - ">refactoring"
  # Example: Share the same blockers across multiple products using comma-separated product IDs
  # elasticsearch, cloud-serverless:
  #   - ">non-issue"

# Render blockers (optional - used by the "docs-builder changelog render" command)
# Changelogs matching the specified products and areas/types will be commented out in rendered output files
# Dictionary key can be a single product ID or comma-separated product IDs (e.g., "elasticsearch, cloud-serverless")
# Dictionary value contains areas and/or types that should be blocked for those products
render_blockers:
  # Multiple products (comma-separated) with areas and types that should be blocked
  "cloud-hosted, cloud-serverless":
    areas: # List of area values that should be blocked (commented out) during render
      - Autoscaling
      - Watcher
    types: # List of type values that should be blocked (commented out) during render
      - docs
  # Single product with areas that should be blocked
  elasticsearch:
    areas:
      - Security
